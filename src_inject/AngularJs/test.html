<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--<script src="../../node_modules/angular/angular.js"></script>-->
<!--<script src="../../dist/webpack_inject_early.js"></script>-->
<script src="../../dist/test.js"></script>
<div id="aaaaa">
    <app-container></app-container>
</div>
<script>
    const ee = document.getElementById('aaaaa');
    console.log(ee);

    window.modModSubUiAngularJsBody.appContainerManager.ModGuiConfig.registryComponent(() => {
        return {
            selector: 'app-1',
            componentName: 'app1',
            componentOptions: {
                template: '<div>app-container</div>',
                controller: function ($scope) {
                    console.log('app1');
                },
            }
        };
    });
    window.modModSubUiAngularJsBody.appContainerManager.ModGuiConfig.registryComponent((rootAppModule) => {
        rootAppModule.component('app2', {
            template: '<div>app-container</div>',
            controller: function ($scope) {
                console.log('app2');
            },
        });
        return {
            selector: 'app-2',
        };
    });

    window.modModSubUiAngularJsBody.appContainerManager.ModGuiConfig.addComponent({
        selector: 'app-1',
        data: undefined,
    });
    window.modModSubUiAngularJsBody.appContainerManager.ModGuiConfig.addComponent({
        selector: 'app-2',
        data: undefined,
    });

    window.modModSubUiAngularJsBody.appContainerManager.ModGuiConfig.addComponent({
        selector: 'order-component',
        data: {
            list: Array.from({length: 10}).map((v, i) => {
                return {
                    key: i,
                    str: `name-${i}`,
                    selected: false,
                };
            }).concat([
                {
                    key: 100,
                    str: `name------------------+++++++++++++++++++++++++++++++------------100`,
                    selected: false,
                },
                {
                    key: 101,
                    str: `name-101`,
                    selected: false,
                },
            ]),
            onChange: (action, list, selectedKey, configInfo) => {
                console.log('onChange', [action, list, selectedKey, configInfo]);
            },
        },
    });

    window.modModSubUiAngularJsBody.appContainerManager.ModGuiConfig.bootstrap(ee);
</script>
</body>
</html>
